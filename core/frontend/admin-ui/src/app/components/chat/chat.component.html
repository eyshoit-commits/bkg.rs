<div class="space-y-4">
  <div class="space-y-3 max-h-[60vh] overflow-y-auto rounded-lg bg-slate-950/40 border border-slate-800 p-4">
    <div
      *ngFor="let message of messages"
      class="p-3 rounded-md"
      [ngClass]="{
        'bg-slate-800 text-slate-200': message.role === 'assistant' || message.role === 'system',
        'bg-primary/20 border border-primary/40 text-primary-100': message.role === 'user'
      }"
    >
      <p class="text-xs uppercase tracking-wide text-slate-400">{{ message.role }}</p>
      <p class="mt-1 whitespace-pre-wrap text-sm leading-relaxed">{{ message.content }}</p>
    </div>
  </div>

  <div *ngIf="error" class="rounded bg-red-500/10 border border-red-500/40 text-red-200 px-3 py-2 text-sm">
    {{ error }}
  </div>

  <form (ngSubmit)="sendMessage()" class="space-y-3">
    <textarea
      [(ngModel)]="userInput"
      name="userInput"
      class="w-full rounded-lg bg-slate-950/50 border border-slate-800 focus:border-primary focus:ring-2 focus:ring-primary/40 px-4 py-3 text-sm"
      rows="4"
      placeholder="Send a message to the orchestrated LLM"
    ></textarea>
    <button
      type="submit"
      class="px-6 py-2 rounded-lg bg-primary text-white text-sm font-medium disabled:opacity-50"
      [disabled]="loading"
    >
      {{ loading ? 'Waiting for responseâ€¦' : 'Send' }}
    </button>
  </form>
</div>
